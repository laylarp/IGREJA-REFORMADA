<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convite Digital - Gala Juvenil 2025</title>
    <meta name="theme-color" content="#8B4513">
    <meta name="description" content="Convite digital para a Gala Juvenil 2025 da Igreja Reformada de Mo√ßambique">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- √çcone PWA -->
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Decora√ß√µes Crist√£s -->
    <div class="decorations">
        <div class="cross cross-1">‚úù</div>
        <div class="cross cross-2">‚úù</div>
        <div class="cross cross-3">‚úù</div>
        <div class="cross cross-4">‚úù</div>
        <div class="dove">üïä</div>
        <div class="vine-1"></div>
        <div class="vine-2"></div>
    </div>

    <!-- Tela de Boas-vindas -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-container">
            <div class="church-logo-container">
                <div class="church-logo">
                    <img src="logo.png" alt="Logo Igreja Reformada" id="churchLogoImg" onerror="this.style.display='none'; document.getElementById('logoText').style.display='block';">
                    <div id="logoText" class="logo-text">IRM</div>
                </div>
            </div>
            
            <div class="welcome-content">
                <h1 class="church-name">Igreja Reformada de Mo√ßambique</h1>
                <p class="event-subtitle">Convite Digital</p>
                <h2 class="event-title">GALA JUVENIL 2025</h2>
                <p class="event-date">26 de Dezembro</p>
                
                <div class="welcome-message">
                    <p><i class="fas fa-star"></i> Sistema oficial de convites eletr√¥nicos</p>
                    <p><i class="fas fa-users"></i> Convide seus amigos para celebrar conosco</p>
                </div>
            </div>
            
            <div class="welcome-actions">
                <button id="enterBtn" class="btn btn-primary">
                    <i class="fas fa-door-open"></i> Entrar no Sistema
                </button>
                <div class="copyright">
                    <p><i class="fas fa-copyright"></i> 2025 Igreja Reformada de Mo√ßambique</p>
                    <p class="tech">Desenvolvido por Raymond-Technology</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Senha -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="closePasswordModal">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="modal-header">
                <div class="modal-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <h2>Acesso Restrito</h2>
                <p>Digite a senha para acessar o sistema de convites</p>
            </div>
            
            <div class="modal-body">
                <div class="input-group">
                    <label for="accessPassword">
                        <i class="fas fa-key"></i> Senha de Acesso
                    </label>
                    <input type="password" id="accessPassword" placeholder="Digite a senha">
                    <div class="input-hint">
                        <i class="fas fa-info-circle"></i> Apenas membros autorizados
                    </div>
                </div>
                
                <div id="passwordError" class="error-message">
                    <i class="fas fa-exclamation-triangle"></i> Senha incorreta. Tente novamente.
                </div>
                
                <div class="modal-actions">
                    <button id="verifyPasswordBtn" class="btn btn-primary">
                        <i class="fas fa-check"></i> Acessar
                    </button>
                    <button id="cancelPasswordBtn" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tela de Cadastro -->
    <div id="registrationScreen" class="screen">
        <div class="screen-header">
            <button class="btn-back" id="backFromRegistrationBtn">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            <h1><i class="fas fa-user-plus"></i> Criar Convite</h1>
            <p>Preencha os dados do convidado</p>
        </div>
        
        <div class="registration-container">
            <div class="registration-card">
                <div class="registration-form">
                    <div class="input-group">
                        <label for="guestName">
                            <i class="fas fa-user"></i> Nome do Convidado
                        </label>
                        <input type="text" id="guestName" 
                               placeholder="Ex: Jo√£o Carlos da Silva"
                               maxlength="50">
                        <div class="input-hint">
                            O nome ser√° formatado automaticamente
                        </div>
                    </div>
                    
                    <div id="nameError" class="error-message">
                        <i class="fas fa-exclamation-circle"></i> 
                        Por favor, insira um nome v√°lido (m√≠nimo 3 caracteres)
                    </div>
                    
                    <div class="form-actions">
                        <button id="generateInviteBtn" class="btn btn-primary">
                            <i class="fas fa-gift"></i> Gerar Convite Personalizado
                        </button>
                    </div>
                </div>
                
                <div class="registration-preview">
                    <div class="preview-title">
                        <i class="fas fa-eye"></i> Pr√©-visualiza√ß√£o
                    </div>
                    <div class="preview-card">
                        <div class="preview-name" id="previewName">
                            [NOME DO CONVIDADO]
                        </div>
                        <div class="preview-event">Gala Juvenil 2025</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tela do Convite -->
    <div id="invitationScreen" class="screen">
        <div class="screen-header">
            <button class="btn-back" id="backFromInviteBtn">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            <h1><i class="fas fa-ticket-alt"></i> Convite Gerado</h1>
            <p>Seu convite est√° pronto para compartilhar</p>
        </div>
        
        <!-- Container principal do convite com propor√ß√£o fixa -->
        <div class="invitation-wrapper">
            <!-- O cart√£o do convite com dimens√µes fixas -->
            <div class="invitation-card" id="invitationCard">
                <!-- Borda decorativa -->
                <div class="card-border"></div>
                
                <!-- Cabe√ßalho do convite -->
                <div class="card-header">
                    <div class="invitation-logo">
                        <img src="logo.png" alt="Logo Igreja" onerror="this.style.display='none';">
                        <div class="logo-fallback">IRM</div>
                    </div>
                    
                    <div class="header-content">
                        <div class="church-name-header">
                            Igreja Reformada de Mo√ßambique
                        </div>
                        <h1 class="invitation-title">GALA JUVENIL</h1>
                        <div class="invitation-subtitle">
                            Convite Especial 2025
                        </div>
                    </div>
                    
                    <div class="header-decoration">
                        <div class="decoration-line"></div>
                        <i class="fas fa-star"></i>
                        <div class="decoration-line"></div>
                    </div>
                </div>
                
                <!-- Corpo do convite -->
                <div class="card-body">
                    <div class="invitation-text">
                        <p class="intro-text">
                            A Comiss√£o Organizadora da Gala Juvenil tem a honra de convidar
                        </p>
                        
                        <div class="guest-highlight">
                            <div class="guest-label">PARA PARTICIPAR DA GALA</div>
                            <div class="guest-name" id="finalGuestName">
                                [NOME DO CONVIDADO]
                            </div>
                        </div>
                        
                        <div class="verse-section">
                            <div class="verse-icon">
                                <i class="fas fa-bible"></i>
                            </div>
                            <div class="verse-content">
                                <div class="verse-reference">Salmos 133:1</div>
                                <div class="verse-text">
                                    "Como √© bom e agrad√°vel quando os irm√£os convivem em uni√£o!"
                                </div>
                            </div>
                        </div>
                        
                        <p class="description">
                            Ser√° uma ocasi√£o marcante de ora√ß√£o, louvor e confraterniza√ß√£o, 
                            onde celebraremos juntos a bondade de Deus em nossa juventude.
                        </p>
                    </div>
                    
                    <!-- Detalhes do evento em grid -->
                    <div class="event-details-grid">
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">DATA</div>
                                <div class="detail-value">26 de Dezembro 2025</div>
                                <div class="detail-note">Sexta-feira</div>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">HOR√ÅRIO</div>
                                <div class="detail-value">22:00 √†s 04:00</div>
                                <div class="detail-note">Noite de Adora√ß√£o</div>
                            </div>
                        </div>
                        
                        <div class="detail-item">
                            <div class="detail-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="detail-content">
                                <div class="detail-label">LOCAL</div>
                                <div class="detail-value">Congrega√ß√£o Tsakane</div>
                                <div class="detail-note">Machava-Sede</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Rodap√© do convite -->
                <div class="card-footer">
                    <div class="contact-info">
                        <div class="contact-label">
                            <i class="fas fa-phone-alt"></i> PARA MAIS INFORMA√á√ïES
                        </div>
                        <div class="contact-numbers">
                            <span>84 401 2254</span>
                            <span class="separator">‚Ä¢</span>
                            <span>85 232 8379</span>
                        </div>
                    </div>
                    
                    <div class="signature">
                        <div class="signature-line"></div>
                        <div class="signature-text">
                            Comiss√£o Organizadora da Gala Juvenil 2025
                        </div>
                        <div class="church-footer">
                            Igreja Reformada de Mo√ßambique
                        </div>
                    </div>
                </div>
                
                <!-- Elementos decorativos -->
                <div class="card-corner corner-tl">
                    <i class="fas fa-cross"></i>
                </div>
                <div class="card-corner corner-tr">
                    <i class="fas fa-cross"></i>
                </div>
                <div class="card-corner corner-bl">
                    <i class="fas fa-cross"></i>
                </div>
                <div class="card-corner corner-br">
                    <i class="fas fa-cross"></i>
                </div>
            </div>
        </div>
        
        <!-- Bot√µes de a√ß√£o -->
        <div class="action-buttons">
            <button id="downloadBtn" class="btn btn-download">
                <i class="fas fa-download"></i> Baixar Convite
            </button>
            <button id="shareWhatsAppBtn" class="btn btn-whatsapp">
                <i class="fab fa-whatsapp"></i> Compartilhar
            </button>
            <button id="newInviteBtn" class="btn btn-new">
                <i class="fas fa-plus"></i> Novo Convite
            </button>
        </div>
        
        <!-- Instru√ß√µes -->
        <div class="instructions">
            <p><i class="fas fa-info-circle"></i> O convite ser√° gerado em alta resolu√ß√£o para impress√£o</p>
        </div>
    </div>

    <!-- Canvas para captura -->
    <canvas id="captureCanvas" style="display: none;"></canvas>
    
    <!-- Scripts -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Registrar Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('Service Worker registrado com sucesso:', registration);
                    })
                    .catch(error => {
                        console.log('Falha ao registrar Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>